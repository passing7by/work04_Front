<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <title>KOSTA DVD</title>
    <link
      rel="stylesheet"
      href="./css/layout.css"
      type="text/css"
      media="screen"
    />

    <style type="text/css">
      .poster {
        width: 150px;
        height: 150px;
      }
      table {
        float: left;
        padding-left: 20px;
      }

      table caption {
        font-size: 24px;
      }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script type="text/javascript">
      $(function () {
        //1. 미리보기 기능...
        $("button[name=vplay]").on("click", function () {
          let playName = $(this).val(); //this :
          //   alert(playName);
          $("#video").attr("src", playName);
        }); //on
        // 안됨... : 비디오 파일 이름과 포맷만 넣고 경로를 안 넣었엇음!!!

        /*
		미리보기 버튼을 클릭하면 on() 안의 function()이 동작
		- function() : 비디오 부분의 src 속성에 이 버튼이 가진 value를 할당함
		=> 버튼을 클릭하면 해당 비디오가 비디오 부분에서 자동재생 됨

		$(태그이름[속성=속성값]).on(기능, function(){
			let playName = $(this).val();
		});
		*/

        //2. 찜하기 기능
        $("[name=cartinsert]").on("click", function () {
          alert("찜 목록에 추가되었습니다.");
          localStorage.setItem($(this).attr("id"), $(this).val());
          //[나중에 찜 목록을 보여줄 때, id, 영화제목, 영화이미지를 보여주려고 함]
          //[=> 찜하기 버튼을 클릭했을 때, 해당 버튼의 value값을 로.스에 저장]
        });
      }); //ready
    </script>
  </head>

  <body>
    <header>
      <h1>KOSTA DVD</h1>
    </header>
    <nav>
      <ul>
        <li class="selected"><a href="#">최신 DVD</a></li>
        <li class="selected"><a href="#">DVD 목록</a></li>
        <li class="selected"><a href="jimList.html">찜 리스트</a></li>
      </ul>
    </nav>
    <section id="intro">
      <header>
        <h2>무공해 힐링 시네마</h2>
      </header>
      <p>
        무공해 힐링 시네마는 새로운 개념의 영화장르의 한가지를 말하는 것입니다.
        지친 영혼을 위한 휴식을 주는 영화나, 마음을 정화시키고 치유하는 힘을
        가진 영화들 ... .
      </p>
    </section>
    <div id="content">
      <article class="blogPost">
        <section>
          <video
            autoplay="true"
            src="./media/BigBuck.theora.ogv"
            width="400"
            height="300"
            controls="controls"
            poster="img/poster.jpg"
            id="video"
          ></video>
        </section>
        <section>
          <table>
            <tr>
              <td>
                <h2>쿵푸팬더</h2>
                <p />
                <img class="poster" src="img/movie_image2.jpg" />
                <p />
                <button name="vplay" value="./media/KungFuPanda_Sample.mp4">
                  미리 보기
                </button>
                <button
                  name="cartinsert"
                  id="1001"
                  value="쿵푸팬더,img/movie_image2.jpg,3000"
                >
                  <!-- value에서 공백 주면 안 됨 -->
                  찜하기
                </button>
              </td>
              <td>
                <h2>어벤져스</h2>
                <p />
                <img class="poster" src="img/avengers.jpg" />
                <p />
                <button name="vplay" value="./media/avengers.mp4">
                  미리 보기
                </button>
                <button
                  name="cartinsert"
                  id="1002"
                  value="어벤져스,img/avengers.jpg,1002"
                >
                  찜하기
                </button>
              </td>
              <td>
                <h2>빅벅</h2>
                <p />
                <img class="poster" src="img/BigBuck.jpg" />
                <p />
                <button name="vplay" value="./media/BigBuck.theora.mp4">
                  미리 보기
                </button>
                <button
                  name="cartinsert"
                  id="1003"
                  value="빅벅,img/BigBuck.jpg,1003"
                >
                  찜하기
                </button>
              </td>
            </tr>
          </table>
        </section>
      </article>
    </div>
    <footer>
      <div>
        <section id="about">
          <h3>About</h3>
          <p>
            서울 종로 지점. <br />
            <a href="#">hsh@kosta.com</a>
          </p>
        </section>
        <section id="security">
          <h3>개인정보 취급 방침</h3>
          <ul>
            <li><a href="#">개요</a></li>
            <li><a href="#">문의처</a></li>
          </ul>
        </section>
        <section id="notice">
          <h3>공지사항</h3>
          <ul>
            <li><a href="#">오시는 길</a></li>
            <li><a href="#">오류시 문의사항</a></li>
          </ul>
        </section>
      </div>
    </footer>
  </body>
</html>
