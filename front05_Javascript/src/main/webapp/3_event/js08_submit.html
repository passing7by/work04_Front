<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>setInterval() :: 특정한 간격을 두고 함수를 주기적으로 호출...</title>
    <script>
      // 폼에 입력된 값의 유효성 검사(서버로 값을 보내기 전 확인)는 자바스크립트에서 진행됨...
      // 즉, js에서 submit 함

      function send() {
        /*
          폼에 입력된 값을 여기서(자바스크립트에서) 핸들링 한 다음에 서버로 전송(index.jsp)하는 방법
          validation checking :: userId 입력 폼에 공백을 제거한 후 서버로 전송...
          form.submit() (선택자를 폼 전체로 지정해야 함)
        */

        let id = document.querySelector("#userId"); //id 입력 폼

        if (id.value.trim() != "") {
          //id 값이 입력되었다면...서버(index.jsp)로 보냄
          // alert(id.value);
          let flag = confirm(id.value + " 님의 정보를 서버로 정말 전송할까요?");
          // 이 창에서 확인을 누르면 true, 취소를 누르면 false가 반환 됨
          if (flag) document.querySelector("#memberFrm").submit();
          else event.preventDefault(); //기본적인 이벤트(action에 걸린 페이지로 전송)를 막는 기능
        } else {
          //submit의 기본적인 이벤트를 막아 줌 (서버(index.jsp)로 안 감)
          event.preventDefault();
        }
      }
    </script>
  </head>

  <body>
    <h2>Form에서 입력된 값을 자바스크립트에서 받아서 서버로 전송하기.</h2>
    <form action="index.jsp" method="get" id="memberFrm">
      아이디 : <input type="text" name="userId" id="userId" /><br /><br />
      이 름 : <input type="text" name="userName" id="userName" /><br /><br />
      이메일 :
      <input type="email" name="userEmail" id="userEmail" /><br /><br />
      <input type="submit" value="DataSend" onclick="send()" />
    </form>
  </body>
</html>
